%% ==============================================================================
%% Craft Performance Scoring Matrix Diagram
%% ==============================================================================
%% Source File:     specs/cognitive-core/craft-performance.md
%% Repository Path: diagrams/cognitive-core/inference/cognitive-gene-scoring-matrix.png
%% Description:     Visualizes the Craft Performance calculation as a PRODUCT
%%                  of four parallel motor scores. Any zero = total zero (veto).
%%                  Excellence requires ALL motors to agree.
%% ==============================================================================

graph TD
    %% Global Styles
    classDef motor fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#000;
    classDef calc fill:#fff9c4,stroke:#fbc02d,stroke-width:2px,color:#000;
    classDef veto fill:#ffcdd2,stroke:#c62828,stroke-width:2px,color:#000;
    classDef result fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px,color:#000;
    classDef meta fill:#eeeeee,stroke:#212121,stroke-width:1px,stroke-dasharray: 5 5,color:#000;

    %% 1. The Four Motor Scores (Parallel Evaluation)
    subgraph "1. Parallel Motor Scores [0,1]"
        direction TB
        S_Prax[Praxeological Score]:::motor
        S_Nash[Nash Score]:::motor
        S_Chaos[Chaotic Score]:::motor
        S_Meta[Meristic Score]:::motor
        
        Val1["e.g., 0.92"]:::motor -.-> S_Prax
        Val2["e.g., 0.88"]:::motor -.-> S_Nash
        Val3["e.g., 0.85"]:::motor -.-> S_Chaos
        Val4["e.g., 0.90"]:::motor -.-> S_Meta
    end

    %% 2. Product Operation (NOT Sum)
    subgraph "2. Product Function (NOT Weighted Sum)"
        direction TB
        Product{Multiplication}:::calc
        
        S_Prax & S_Nash & S_Chaos & S_Meta --> Product
        
        Formula["CP = Score_P x Score_N x Score_C x Score_M"]:::calc
        Product --> Formula
    end

    %% 3. Result
    subgraph "3. Craft Performance Result"
        direction TB
        Calc["0.92 x 0.88 x 0.85 x 0.90"]:::calc
        Final["CP = 0.619"]:::result
        
        Formula --> Calc --> Final
    end

    %% 4. The Veto Property
    subgraph "4. Veto Property (Critical)"
        direction TB
        VetoEx["If ANY motor score = 0:"]:::veto
        VetoCalc["CP = 0.95 x 0.88 x 0 x 0.92"]:::veto
        VetoResult["CP = 0.000 (Absolute Rejection)"]:::veto
        
        VetoEx --> VetoCalc --> VetoResult
    end

    %% Annotations
    note1["WHY PRODUCT, NOT SUM?<br/>No amount of excellence in three<br/>dimensions compensates for failure in one"]:::meta -.-> Product
    
    note2["The Yen Example:<br/>If you have 1M yen and I have 0,<br/>'average 500K' is a lie.<br/>You buy, I beg."]:::meta -.-> VetoEx
