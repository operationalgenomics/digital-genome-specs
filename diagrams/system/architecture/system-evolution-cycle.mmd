graph TD
    %% Global Styles
    classDef sys fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#000;
    classDef genome fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px,color:#000;
    classDef cog fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#000;
    classDef gov fill:#fbe9e7,stroke:#bf360c,stroke-width:2px,stroke-dasharray: 5 5,color:#000;
    classDef artifact fill:#fff9c4,stroke:#fbc02d,stroke-width:1px,stroke-dasharray: 5 5,color:#000;

    %% 1. The Spark
    subgraph "1. Trigger Phase"
        direction TB
        Mon[Monitoring & Feedback]:::sys
        Trigger((Evolution Trigger)):::sys
        
        Mon -->|Anomaly / Optimization / Feedback| Trigger
    end

    %% 2. The Innovation
    subgraph "2. Merism Engine (Innovation)"
        direction TB
        Decomp[Gene Decomposition]:::genome
        Gen[Variant & Anti-Gene Generator]:::genome
        
        Trigger --> Decomp
        Decomp --> Gen
    end

    %% Artifacts generated
    Proposal(Evolution Proposal):::artifact
    Gen --> Proposal

    %% 3. The Validation
    subgraph "3. Validation Phase"
        direction TB
        Sim[Simulation Engine]:::cog
        MetaSim[Meta-Multiverse Simulation]:::cog
        
        Proposal --> Sim
        Sim -->|In-Paradigm Test| MetaSim
        MetaSim -->|Cross-Paradigm Test| ValResult(Validation Result):::artifact
    end

    %% 4. The Control
    subgraph "4. Governance Phase"
        direction TB
        GovGate{Governance Approval}:::gov
        
        ValResult --> GovGate
    end

    %% 5. The Update
    subgraph "5. Integration Phase"
        direction TB
        Genome[Digital Genome]:::genome
        Version[Version Increment]:::genome
        
        GovGate -->|Approved| Genome
        Genome --> Version
    end

    %% Closing the Loop
    Version -->|Deploys New Gene| Mon
    GovGate -- Rejected --> Archive[Quarantine / Archive]:::gov

    %% Descriptions
    note1[Variants: Optimization<br/>Anti-Genes: Disruption]:::genome -.-> Gen
    note2[Checks Safety Invariants]:::gov -.-> GovGate
